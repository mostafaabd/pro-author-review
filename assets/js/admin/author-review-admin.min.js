!function(e){var t={};function a(r){if(t[r])return t[r].exports;var l=t[r]={i:r,l:!1,exports:{}};return e[r].call(l.exports,l,l.exports,a),l.l=!0,l.exports}a.m=e,a.c=t,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)a.d(r,l,function(t){return e[t]}.bind(null,l));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=0)}([function(e,t){!function(e){e.fn.jStepper=function(t,a,r){if(this.length>1)return this.each((function(){$(this).jStepper(t)})),this;if("string"==typeof t)return"option"===t&&(null===r&&(r=e.fn.jStepper.defaults[a]),this.data("jstepper.o")[a]=r),this;var l=e.extend({},e.fn.jStepper.defaults,t);e.metadata&&(l=e.extend({},l,this.metadata())),this.data("jstepper.o",l),l.disableAutocomplete&&this.attr("autocomplete","off"),e.isFunction(this.mousewheel)&&this.mousewheel((function(t,a){var r;return a>0?((r=e.Event("keydown")).keyCode=38,n(1,r,this),!1):a<0?((r=e.Event("keydown")).keyCode=40,n(0,r,this),!1):void 0})),this.blur((function(){i(this,null)})),this.keydown((function(e){var t=e.keyCode;if(38===t)n(1,e,this);else if(40===t)n(0,e,this);else if("ignore"===l.overflowMode){var a=0===$(this).val().indexOf("-")?l.minValue:l.maxValue;if(a&&$(this).val().length>=a.toString().length&&(t>=48&&t<=57||t>=96&&t<=105)&&this.selectionStart===this.selectionEnd)return!1}})),this.keyup((function(e){i(this,e)}));var i=function(t,a){var r=e(t),i=r.val(),n=i;l.disableNonNumeric&&(i=(i=(i=i.replace(/[^\d\.,\-]/gi,"")).replace(/-{2,}/g,"-")).replace(/(.+)\-+/g,"$1"));var s=!1;null!==l.maxValue&&parseFloat(i)>l.maxValue&&(i=l.maxValue,s=!0),l.disableMinValueCheckOnKey||null!==l.minValue&&""!=i&&parseFloat(i)<parseFloat(l.minValue)&&(i=l.minValue,s=!0),!0!==p(a)&&null!==a&&!0!==s||(i=o(i)),n!=i&&r.val(i)},n=function(t,a,r){var n,o=e(r);n=a?a.ctrlKey?l.ctrlStep:a.shiftKey?l.shiftStep:l.normalStep:l.normalStep;var s=o.val(),u=s.length-r.selectionStart,c=s.length-r.selectionEnd;s=(s=s.replace(/,/g,".")).replace(l.decimalSeparator,"."),-1!=(s+="").indexOf(".")&&(s=s.match(new RegExp("-{0,1}[0-9]+[\\.][0-9]*"))),-1!=(s+="").indexOf("-")&&(s=s.match(new RegExp("-{0,1}[0-9]+[\\.]*[0-9]*"))),""!==(s=(s+="").match(new RegExp("-{0,1}[0-9]+[\\.]*[0-9]*")))&&"-"!=s&&null!==s||(s=l.defaultValue),s=1===t?e.fn.jStepper.AddOrSubtractTwoFloats(s,n,!0):e.fn.jStepper.AddOrSubtractTwoFloats(s,n,!1);var d=!1;return null!==l.maxValue&&s>=l.maxValue&&(s=l.maxValue,d=!0),null!==l.minValue&&s<=l.minValue&&(s=l.minValue,d=!0),s=s.toString().replace(/\./,l.decimalSeparator),o.val(s),r.selectionStart=s.length-u,r.selectionEnd=s.length-c,i(r,a),l.onStep&&l.onStep(o,t,d),!1},o=function(e){var t=e.toString();return t=s(t),t=u(t),t=c(t),t=d(t)},s=function(e){var t=e;if(l.minDecimals>0){var a;if(-1!=t.indexOf(".")){var r=t.length-(t.indexOf(".")+1);r<l.minDecimals&&(a=l.minDecimals-r)}else a=l.minDecimals,t+=".";for(var i=1;i<=a;i++)t+="0"}return t},u=function(e){var t=e;if(l.maxDecimals>0){var a=0;-1!=t.indexOf(".")&&(a=t.length-(t.indexOf(".")+1),l.maxDecimals<a&&(t=t.substring(0,t.indexOf("."))+"."+t.substring(t.indexOf(".")+1,t.indexOf(".")+1+l.maxDecimals)))}return t},c=function(e){var t=e;return l.allowDecimals||(t=(t=t.toString().replace(l.decimalSeparator,".")).replace(new RegExp("[\\.].+"),"")),t},d=function(e){var t=e;if(null!==l.minLength){var a=t.length;-1!=t.indexOf(".")&&(a=t.indexOf("."));var r=!1;if(-1!=t.indexOf("-")&&(r=!0,t=t.replace(/-/,"")),a<l.minLength)for(var i=1;i<=l.minLength-a;i++)t="0"+t;r&&(t="-"+t)}return t},p=function(e){var t=!1;return null!==e&&(38!==e.keyCode&&40!==e.keyCode||(t=!0)),t};return this},e.fn.jStepper.AddOrSubtractTwoFloats=function(e,t,a){var r=e.toString(),l=t.toString(),i="";if(r.indexOf(".")>-1||l.indexOf(".")>-1){-1===r.indexOf(".")&&(r+=".0"),-1===l.indexOf(".")&&(l+=".0");for(var n=r.substr(r.indexOf(".")+1),o=l.substr(l.indexOf(".")+1),s=r.substr(0,r.indexOf(".")),u=l.substr(0,l.indexOf(".")),c=!0;c;)n.length!==o.length?n.length<o.length?n+="0":o+="0":c=!1;for(var d=n.length,p=0;p<=n.length-1;p++)s+=n.substr(p,1),u+=o.substr(p,1);var f,v=Number(s),h=Number(u),m=!1;(f=a?v+h:v-h)<0&&(m=!0,f=Math.abs(f)),i=f.toString();for(var g=0;g<d-i.length+1;g++)i="0"+i;i.length>=d&&(i=i.substring(0,i.length-d)+"."+i.substring(i.length-d)),!0===m&&(i="-"+i)}else i=a?Number(e)+Number(t):Number(e)-Number(t);return Number(i)},e.fn.jStepper.defaults={maxValue:null,minValue:null,normalStep:1,shiftStep:5,ctrlStep:10,minLength:null,disableAutocomplete:!0,defaultValue:1,decimalSeparator:",",allowDecimals:!0,minDecimals:0,maxDecimals:null,disableNonNumeric:!0,onStep:null,overflowMode:"default",disableMinValueCheckOnKey:!1}}(jQuery),function(e){"use strict";function t(){var t=0,a=0;e(".custom_repeatable li:not(.pro-hidden)").each((function(){t+=parseInt(e(this).find("input.percent-value").val()),a++})),t/=a,e(".wrap-total .percent-value").empty().html("<strong>"+r(t)+"</strong>%"),e(".wrap-total .point-value").empty().html("<strong>"+r(t/10,1)+"</strong>/10"),e(".wrap-total .star-value").empty().html("<strong>"+r(t/10/2,1)+"<strong>/5")}function a(){e(".custom_repeatable li:not(.pro-hidden) .addslider").each((function(){var a=e(this).closest("li").find(".percent-value").val();""!=a&&0!=a||(a=0),e(this).slider({isRTL:!0,value:a,range:"min",min:10,max:100,step:1,slide:function(a,l){e(this).closest("li").find("input.percent-value").val(l.value),e(this).closest("li").find(".star-value").val(r(l.value/10/2,1)),e(this).closest("li").find(".point-value").val(l.value/10),t()}});var l=e(this).closest("li").find("input.percent-value").val();""!=l&&(e(this).closest("li").find(".star-value").val(r(l/10/2,1)),e(this).closest("li").find(".point-value").val(l/10))}))}function r(e,t,a){var r,l,i,n;if(t|=0,i=(e*=r=Math.pow(10,t))%1==.5*(n=e>0|-(e<0)),l=Math.floor(e),i)switch(a){case"PHP_ROUND_HALF_DOWN":e=l+(n<0);break;case"PHP_ROUND_HALF_EVEN":e=l+l%2*n;break;case"PHP_ROUND_HALF_ODD":e=l+!(l%2);break;default:e=l+(n>0)}return(i?e:Math.round(e))/r}function l(){e("input.percent-value").change((function(){var a=e(this).val();e(this).closest("li").find(".star-value").val(r(a/10/2,1)),e(this).closest("li").find(".point-value").val(a/10),e(this).closest("li").find(".slider").slider({value:a}),t()}))}function i(){e(".custom_repeatable").sortable({opacity:.6,revert:!0,cursor:"move"})}function n(t){e.ajax({type:"POST",dataType:"json",url:get_review_template.ajaxurl,data:{action:"get_review_template_using_ajax",security:e(".pro-author-review-box #par_post_review_nonce_name").val(),tpl_id:t},beforeSend:function(){e(".pro-author-review-box").addClass("loading")},success:function(t){e(".pro-author-review-box").removeClass("loading"),e(".pro-author-review-box .ajax-fields-wrapper").html(t.reviewtpl),a(),l(),e(".ajax-fields-wrapper").hasClass("tpl-selected")||e(".ajax-fields-wrapper").addClass("tpl-selected"),i()},error:function(e,t,a){}})}a(),l(),i(),e(".percent-value").jStepper({minValue:10,maxValue:100}),e("#add-row").on("click",(function(){var t=e("li.empty-criteria").clone(!0),r=e(".custom_repeatable li").length-1;return e(t).find(".addslider").attr("id","slider"+r),t.removeClass("pro-hidden empty-row screen-reader-text empty-criteria"),t.insertBefore(".custom_repeatable li:last"),a(),!1})),"users"==e("#who_can_review").val()&&e(".custom_repeatable li .label-type, .custom_repeatable li .criteria-value, .custom_repeatable li .slider, .wrap-total-criteria .total-value").addClass("pro-hidden"),e("#who_can_review").change((function(){"users"==e("#who_can_review").val()?e(".custom_repeatable li .label-type, .custom_repeatable li .criteria-value, .custom_repeatable li .slider").addClass("pro-hidden"):e(".custom_repeatable li .label-type, .custom_repeatable li .criteria-value, .custom_repeatable li .slider").removeClass("pro-hidden")})),e(".remove-row").on("click",(function(){return e(this).parents("li").remove(),!1})),e(".review-field-active").hide(),e(".select-review-template").select2();var o="";e(".select-review-template").on("select2:open",(function(t){o=e(this).val()})),e(".select-review-template").on("change",(function(t){t.preventDefault();var a=e(this).val();-1!=a&&(e(".ajax-fields-wrapper").hasClass("tpl-selected")?e(".ajax-fields-wrapper").hasClass("clickedbefore")?e(".ajax-fields-wrapper").removeClass("clickedbefore"):1==confirm("This is strong if you click yes you lose your template and load new one you selected")?n(a):(e(".ajax-fields-wrapper").addClass("clickedbefore"),e(".select-review-template option[value="+o+"]").attr("selected","selected"),e(".select-review-template").val(o).trigger("change")):n(a))})),e("#has-review").is(":checked")&&e(".review-field-active").show(),e("#has-review").change((function(){e(this).is(":checked")||alert(e("p.when-review-unchecked").html())})),e("#has-review").change((function(){e("#has-review").is(":checked")?e(".review-field-active").show():e(".review-field-active").hide()})),e(".usersonly .total-value").hide(),e(".pro-author-review-box.users .rating-review-item .pro-hidden").hide()}(jQuery)}]);